@model universityManagementSys.Models.Student

@{
    ViewData["Title"] = "Student Details";
}

<div class="container mt-4">
    <!-- Header -->
    <div class="text-center mb-4">
        <h1 class="fw-bold text-primary">📖 Student Details</h1>
        <p class="text-muted">Here you can view the full details of the student.</p>
        <hr class="w-25 mx-auto" />
    </div>

    @if (Model != null)
    {
        <!-- Student Info Card -->
        <div class="card shadow-lg border-0 mb-4">
            <div class="card-header bg-light fw-semibold">
                🧑 Student Information
            </div>
            <div class="card-body">
                <dl class="row">
                    <dt class="col-sm-3 fw-semibold">ID</dt>
                    <dd class="col-sm-9">@Model.ID</dd>

                    <dt class="col-sm-3 fw-semibold">Name</dt>
                    <dd class="col-sm-9">@Model.FirstName @Model.LastName</dd>

                    <dt class="col-sm-3 fw-semibold">Email</dt>
                    <dd class="col-sm-9">@Model.Email</dd>

                    <dt class="col-sm-3 fw-semibold">Department</dt>
                    <dd class="col-sm-9">@Model.Department?.Name</dd>
                </dl>
            </div>
        </div>

        <!-- Courses Section -->
        <div class="card shadow-lg border-0 mb-4">
            <div class="card-header bg-light fw-semibold">
                📚 Assigned Courses
            </div>
            <div class="card-body">
                @if (Model.Enrollments != null && Model.Enrollments.Any())
                {
                    <table class="table table-hover table-bordered align-middle">
                        <thead class="table-light">
                            <tr>
                                <th>Course ID</th>
                                <th>Course Name</th>
                                <th>Credit Hours</th>
                                <th>Instructor</th>
                                <th>Semester</th>
                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var enrollment in Model.Enrollments)
                            {
                                <tr>
                                    <td>@enrollment.Course.ID</td>
                                    <td>@enrollment.Course.Name</td>
                                    <td>@enrollment.Course.CreditHours</td>
                                    <td>@(enrollment.Course.Instructor?.FirstName + " " + enrollment.Course.Instructor?.LastName)</td>
                                    <td>@enrollment.Course.Semester?.Name</td>
                                </tr>
                            }
                        </tbody>
                    </table>
                }
                else
                {
                    <div class="alert alert-info mb-0">
                        This student has not been assigned to any course yet.
                    </div>
                }
            </div>
        </div>

        <!-- Actions -->
        <div class="d-flex justify-content-between">
            <a asp-action="GetAllStudents" class="btn btn-outline-secondary px-4 rounded-pill shadow-sm">
                ⬅️ Back to List
            </a>
            <div>
                <a asp-action="Edit" asp-route-id="@Model.ID" class="btn btn-primary px-4 rounded-pill shadow-sm me-2">
                    ✏️ Edit
                </a>
                <a asp-action="Delete" asp-route-id="@Model.ID" class="btn btn-danger px-4 rounded-pill shadow-sm me-2">
                    🗑️ Delete
                </a>
                <a asp-action="AssignCourseToStudent" asp-route-id="@Model.ID" class="btn btn-success px-4 rounded-pill shadow-sm">
                    ➕ Assign Course
                </a>
            </div>
        </div>
    }
    else
    {
        <div class="alert alert-warning mt-4">
            <h4>No Student Found</h4>
            <p>There is no student with the specified ID.</p>
        </div>

        <a asp-action="GetAllStudents" class="btn btn-secondary mt-3">
            ⬅️ Back to Students List
        </a>
    }
</div>
